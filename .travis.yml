os: linux
dist: focal

language: cpp

compiler:
- gcc

env:
- LUA_CONFIG="-DLUA_INCLUDE=/usr/include/lua5.1 -DLUA_LIB_NAME=lua5.1"
- LUA_CONFIG="-DLUA_INCLUDE=/usr/include/lua5.2 -DLUA_LIB_NAME=lua5.2"
- LUA_CONFIG="-DLUA_INCLUDE=/usr/include/lua5.3 -DLUA_LIB_NAME=lua5.3"
- LUA_CONFIG="-DLUA_INCLUDE=/usr/include//usr/include/luajit-2.1 -DLUA_LIB_NAME=luajit-5.1"

before_install:
- sudo apt-get update -qq

install:
- sudo apt-get install -y lua5.1 liblua5.1-0-dev lua5.2 liblua5.2-dev lua5.3 liblua5.3-dev luajit libluajit-5.1-dev

before_script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Release $LUA_CONFIG ..

script: make

